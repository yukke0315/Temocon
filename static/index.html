<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Temocon</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Temocon</h1>
    
    <div class="control-panel">
        <!-- 操作ボタン -->
        <button class="btn" onclick="send('volume_up')">Volume UP</button>
        <button class="btn" onclick="send('volume_down')">Volume Down</button>
        <button class="btn" onclick="send('play_pause')">Play / Pause</button>
    </div>

    <div id="trackpad" class="trackpad-area">
        TOUCH PAD
    </div>

    <div id="status" class="status">未接続...</div>

    <script>
        // socket作成
        // IPアドレス・ポートを自動取得
        const ws = new WebSocket(`ws://${window.location.host}/ws`);
        const statusDiv = document.getElementById("status");

        // 接続時
        ws.onopen = () => {
            statusDiv.innerText = "ONLINE";
            statusDiv.style.color = "#0f0";
        };

        // 切断時
        ws.onclose = () => {
            statusDiv.innerText = "OFFLINE";
            statusDiv.style.color = "#f00";
        };

        // コマンド送信
        function send(command) {
            if (ws.readyState === WebSocket.OPEN) {
                ws.send(command);
            }
        }
    </script>
</body>
</html>